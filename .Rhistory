setwd("~/Documents/GitHub/lterwg-som/root_group_analyses")
install.packages(c("googledrive", "sjstats", "tidyverse"))
##################################
### Data Exploration: LTER-SOM ###
###    Sept 2019, SWeintraub   ###
##################################
#Avni edits
### Reset workspace
rm(list = ls())
### Set paths
if (file.exists('/Users/sweintraub/')){
dir1 <- ("/Users/sweintraub/Documents/GitHub/lterwg-som/")
}
if (file.exists('/Users/5a7/')){
dir1 <- ("/Documents/GitHub/lterwg-som/") #This isn't working, I think it doesn't like the space in my external HD name
}
if (file.exists('C:/Users/vishr_000')){
dir1 <- ("C:/Users/vishr_000/Documents/GitHub/lterwg-som/")
}
dir1
source(paste0(dir1,'data-processing/get_latest_som.R'))
getwd()
setwd("~/Documents/GitHub/lterwg-som")
source(paste0(dir1,'data-processing/get_latest_som.R'))
if (file.exists('/Users/5a7/')){
dir1 <- ("/Users/5a7/Documents/GitHub/lterwg-som/")
}
source(paste0(dir1,'data-processing/get_latest_som.R'))
som <- get_latest_som()
# filter to only NEON
somNEON <- filter(som, network == "NEON")
# useful function for making the DF smaller, only keep variables with not all NA
not_all_na <- function(x) any(!is.na(x))
#subsetting neon sites into groups for easier plotting
neonSiteList1 <- c("BART",
"HARV",
"SCBI",
"SERC",
"BLAN",
"DSNY",
"OSBS",
"JERC",
"LAJA",
"GUAN",
"STEI",
"UNDE",
"TREE",
"UKFS",
"KONZ",
"KONA",
"GRSM",
"MLBS",
"ORNL",
"DELA",
"TALL",
"WOOD",
"DCFS")
# Megapits - creating dataframes for making plots, carbon with depth, roots and soil
# have to include 4 diam because otherwise some sites would be lost
somNEONMegaRoots <- somNEON %>%
filter(data_file%in%c("megapit_roots"))
View(somNEONMegaRoots)
min(somNEONMegaRoots$bgb_upperdiam)
which(is.na((somNEONMegaRoots$bgb_upperdiam)))
View(somNEON)
levels(somNEON%data_file)
levels(somNEON$data_file)
str(somNEON$data_file)
levels(as.factor(somNEON$data_file))
which(is.na(somNEONMegaRoots$bgb_type))
which(somNEONMegaRoots$bgb_type=="live")
which(is.na(somNEONMegaRoots$bgb_c))
som <- get_latest_som()
# filter to only NEON
somNEON <- filter(som, network == "NEON")
