beta.site1
names(somNEONMega1)
beta.site1<-ggplot(somNEONMega1,
aes(x = socfrac_cumsum,
y = layer_bot )) +
geom_point(pch = 21, aes(color=land_cover)) +
geom_point(aes(x=rootfrac_cumsum, color=land_cover), pch=19)+
geom_line(aes(x=rootfrac_cumsum, color=land_cover), lty="solid")+
geom_line(aes(x=socfrac_cumsum, color=land_cover), lty="dashed")+
scale_color_manual(values=c("darkgreen","royalblue2","darkorchid"))+
scale_y_reverse() + # puts 0 at the top
xlab("Proportion accumulated")+
ylab("Soil depth (cm)")+
guides(color=guide_legend(title="Land cover", title.theme = element_text(size=12, angle=0), label.theme = element_text(size=12, angle=0)))+
facet_wrap(~ reorder(site_code, map)) +
theme_bw()+
theme(legend.position=c(0.9,0.07), panel.grid.major=element_blank(),panel.grid.minor=element_blank(),panel.border=element_rect(fill=NA, color="black"),panel.background=element_rect(fill="white"),axis.title=element_text(size=14),axis.text=element_text(size=12),legend.title = element_text(size=12))
beta.site1
#lhs <- tgc_site$rootfrac_cumsum
#rhs <- 1-beta_site_roots^tgc_site$layer_bot
#site_roots <- lm(lhs ~ rhs)
####Figure S1 ####
somNEONMega1 <-  somNEONMegaSoilRootSelSumDepth %>%
filter(site_code%in%neonSiteList1) %>%
reorder(site_code, c(map))
#lhs <- tgc_site$rootfrac_cumsum
#rhs <- 1-beta_site_roots^tgc_site$layer_bot
#site_roots <- lm(lhs ~ rhs)
####Figure S1 ####
somNEONMega1 <-  somNEONMegaSoilRootSelSumDepth %>%
filter(site_code%in%neonSiteList1) %>%
reorder(site_code, map)
#lhs <- tgc_site$rootfrac_cumsum
#rhs <- 1-beta_site_roots^tgc_site$layer_bot
#site_roots <- lm(lhs ~ rhs)
####Figure S1 ####
somNEONMega1 <-  somNEONMegaSoilRootSelSumDepth %>%
filter(site_code%in%neonSiteList1) %>%
arrange(map)
beta.site1<-ggplot(somNEONMega1,
aes(x = socfrac_cumsum,
y = layer_bot )) +
geom_point(pch = 21, aes(color=land_cover)) +
geom_point(aes(x=rootfrac_cumsum, color=land_cover), pch=19)+
geom_line(aes(x=rootfrac_cumsum, color=land_cover), lty="solid")+
geom_line(aes(x=socfrac_cumsum, color=land_cover), lty="dashed")+
scale_color_manual(values=c("darkgreen","royalblue2","darkorchid"))+
scale_y_reverse() + # puts 0 at the top
xlab("Proportion accumulated")+
ylab("Soil depth (cm)")+
guides(color=guide_legend(title="Land cover", title.theme = element_text(size=12, angle=0), label.theme = element_text(size=12, angle=0)))+
facet_wrap(~ site_code) +
theme_bw()+
theme(legend.position=c(0.9,0.07), panel.grid.major=element_blank(),panel.grid.minor=element_blank(),panel.border=element_rect(fill=NA, color="black"),panel.background=element_rect(fill="white"),axis.title=element_text(size=14),axis.text=element_text(size=12),legend.title = element_text(size=12))
beta.site1
#lhs <- tgc_site$rootfrac_cumsum
#rhs <- 1-beta_site_roots^tgc_site$layer_bot
#site_roots <- lm(lhs ~ rhs)
####Figure S1 ####
somNEONMega1 <-  somNEONMegaSoilRootSelSumDepth %>%
filter(site_code%in%neonSiteList1) %>%
mutate(site_code<-forcats::fct_reorder(site_code, map))
View(somNEONMega1)
View(somNEONMegaSoilRootSelSumDepth)
View(somNEON)
count(is.na(somNEON$map))
count(is.any(somNEON$map, NA))
is.na(somNEON$map)
sum(is.na(somNEON$map))
View(somNEON_mineral_wholeprofile)
#lhs <- tgc_site$rootfrac_cumsum
#rhs <- 1-beta_site_roots^tgc_site$layer_bot
#site_roots <- lm(lhs ~ rhs)
####Figure S1 ####
somNEONMega1 <-  somNEONMegaSoilRootSelSumDepth %>%
filter(site_code%in%neonSiteList1) %>%
left_join(select(somNEON_mineral_wholeprofile, site_code, map), by=site_code)%>%
mutate(site_code<-forcats::fct_reorder(site_code, map.x))
#lhs <- tgc_site$rootfrac_cumsum
#rhs <- 1-beta_site_roots^tgc_site$layer_bot
#site_roots <- lm(lhs ~ rhs)
####Figure S1 ####
somNEONMega1 <-  somNEONMegaSoilRootSelSumDepth %>%
filter(site_code%in%neonSiteList1) %>%
left_join(select(somNEON_mineral_wholeprofile, site_code, map), by="site_code")%>%
mutate(site_code<-forcats::fct_reorder(site_code, map.x))
#lhs <- tgc_site$rootfrac_cumsum
#rhs <- 1-beta_site_roots^tgc_site$layer_bot
#site_roots <- lm(lhs ~ rhs)
####Figure S1 ####
somNEONMega1 <-  somNEONMegaSoilRootSelSumDepth %>%
filter(site_code%in%neonSiteList1) %>%
left_join(select(somNEON_mineral_wholeprofile, site_code, map), by="site_code") #%>%
str(somNEON_mineral_wholeprofile$map)
str(somNEON_mineral_wholeprofile$site_code)
str(somNEONMegaSoilRootSelSumDepth$site_code)
#lhs <- tgc_site$rootfrac_cumsum
#rhs <- 1-beta_site_roots^tgc_site$layer_bot
#site_roots <- lm(lhs ~ rhs)
####Figure S1 ####
somNEONMega1 <-  somNEONMegaSoilRootSelSumDepth %>%
filter(site_code%in%neonSiteList1) %>%
left_join(select(somNEON_mineral_wholeprofile, site_code, map), by="site_code") #%>%
#lhs <- tgc_site$rootfrac_cumsum
#rhs <- 1-beta_site_roots^tgc_site$layer_bot
#site_roots <- lm(lhs ~ rhs)
####Figure S1 ####
somNEONMega1 <-  somNEONMegaSoilRootSelSumDepth %>%
filter(site_code%in%neonSiteList1) %>%
left_join(select(somNEON_mineral_wholeprofile, site_code, map), by="site_code") %>%
mutate(site_code<-forcats::fct_reorder(site_code, map.y))
#lhs <- tgc_site$rootfrac_cumsum
#rhs <- 1-beta_site_roots^tgc_site$layer_bot
#site_roots <- lm(lhs ~ rhs)
####Figure S1 ####
somNEONMega1 <-  somNEONMegaSoilRootSelSumDepth %>%
filter(site_code%in%neonSiteList1) %>%
left_join(select(somNEON_mineral_wholeprofile, site_code, map), by="site_code") %>%
mutate(site_code<-reorder(site_code, map.y))
#lhs <- tgc_site$rootfrac_cumsum
#rhs <- 1-beta_site_roots^tgc_site$layer_bot
#site_roots <- lm(lhs ~ rhs)
####Figure S1 ####
somNEONMega1 <-  somNEONMegaSoilRootSelSumDepth %>%
filter(site_code%in%neonSiteList1) %>%
left_join(select(somNEON_mineral_wholeprofile, site_code, map), by="site_code") %>%
mutate(site_code = fct_reorder(site_code, map.y))
somNEONMega2 <- somNEONMegaSoilRootSelSumDepth %>%
filter(!site_code%in%neonSiteList1)%>%
left_join(select(somNEON_mineral_wholeprofile, site_code, map), by="site_code") %>%
mutate(site_code = fct_reorder(site_code, map.y))
beta.site1<-ggplot(somNEONMega1,
aes(x = socfrac_cumsum,
y = layer_bot )) +
geom_point(pch = 21, aes(color=land_cover)) +
geom_point(aes(x=rootfrac_cumsum, color=land_cover), pch=19)+
geom_line(aes(x=rootfrac_cumsum, color=land_cover), lty="solid")+
geom_line(aes(x=socfrac_cumsum, color=land_cover), lty="dashed")+
scale_color_manual(values=c("darkgreen","royalblue2","darkorchid"))+
scale_y_reverse() + # puts 0 at the top
xlab("Proportion accumulated")+
ylab("Soil depth (cm)")+
guides(color=guide_legend(title="Land cover", title.theme = element_text(size=12, angle=0), label.theme = element_text(size=12, angle=0)))+
facet_wrap(~ site_code) +
theme_bw()+
theme(legend.position=c(0.9,0.07), panel.grid.major=element_blank(),panel.grid.minor=element_blank(),panel.border=element_rect(fill=NA, color="black"),panel.background=element_rect(fill="white"),axis.title=element_text(size=14),axis.text=element_text(size=12),legend.title = element_text(size=12))
beta.site1
#lhs <- tgc_site$rootfrac_cumsum
#rhs <- 1-beta_site_roots^tgc_site$layer_bot
#site_roots <- lm(lhs ~ rhs)
####Figure S1 ####
somNEONMega1 <-  somNEONMegaSoilRootSelSumDepth %>%
filter(site_code%in%neonSiteList1) %>%
left_join(select(somNEON_mineral_wholeprofile, site_code, map), by="site_code") %>%
mutate(site_code = forcats::facet_reorder(site_code, map.y))
#lhs <- tgc_site$rootfrac_cumsum
#rhs <- 1-beta_site_roots^tgc_site$layer_bot
#site_roots <- lm(lhs ~ rhs)
####Figure S1 ####
somNEONMega1 <-  somNEONMegaSoilRootSelSumDepth %>%
filter(site_code%in%neonSiteList1) %>%
left_join(select(somNEON_mineral_wholeprofile, site_code, map), by="site_code")
beta.site1<-somNEONMega1 %>% as.factor(site_code) %>%
mutate(site_code = fct_reorder(site_code, map.y))
beta.site1<-somNEONMega1 %>%
mutate(site_code = as.factor(site_code),
site_code = fct_reorder(site_code, map.y)) %>%
ggplot(aes(x = socfrac_cumsum,
y = layer_bot )) +
geom_point(pch = 21, aes(color=land_cover)) +
geom_point(aes(x=rootfrac_cumsum, color=land_cover), pch=19)+
geom_line(aes(x=rootfrac_cumsum, color=land_cover), lty="solid")+
geom_line(aes(x=socfrac_cumsum, color=land_cover), lty="dashed")+
scale_color_manual(values=c("darkgreen","royalblue2","darkorchid"))+
scale_y_reverse() + # puts 0 at the top
xlab("Proportion accumulated")+
ylab("Soil depth (cm)")+
guides(color=guide_legend(title="Land cover", title.theme = element_text(size=12, angle=0), label.theme = element_text(size=12, angle=0)))+
facet_wrap(~ site_code) +
theme_bw()+
theme(legend.position=c(0.9,0.07), panel.grid.major=element_blank(),panel.grid.minor=element_blank(),panel.border=element_rect(fill=NA, color="black"),panel.background=element_rect(fill="white"),axis.title=element_text(size=14),axis.text=element_text(size=12),legend.title = element_text(size=12))
beta.site1
#lhs <- tgc_site$rootfrac_cumsum
#rhs <- 1-beta_site_roots^tgc_site$layer_bot
#site_roots <- lm(lhs ~ rhs)
####Figure S1 ####
somNEONMega1 <-  somNEONMegaSoilRootSelSumDepth %>%
filter(site_code%in%neonSiteList1) %>%
left_join(select(somNEON_mineral_wholeprofile, site_code, map), by="site_code") %>%
mutate(site_code = as.factor(site_code),
site_code = fct_reorder(site_code, map.y))
beta.site1<-somNEONMega1 %>%
ggplot(aes(x = socfrac_cumsum,
y = layer_bot )) +
geom_point(pch = 21, aes(color=land_cover)) +
geom_point(aes(x=rootfrac_cumsum, color=land_cover), pch=19)+
geom_line(aes(x=rootfrac_cumsum, color=land_cover), lty="solid")+
geom_line(aes(x=socfrac_cumsum, color=land_cover), lty="dashed")+
scale_color_manual(values=c("darkgreen","royalblue2","darkorchid"))+
scale_y_reverse() + # puts 0 at the top
xlab("Proportion accumulated")+
ylab("Soil depth (cm)")+
guides(color=guide_legend(title="Land cover", title.theme = element_text(size=12, angle=0), label.theme = element_text(size=12, angle=0)))+
facet_wrap(~ site_code) +
theme_bw()+
theme(legend.position=c(0.9,0.07), panel.grid.major=element_blank(),panel.grid.minor=element_blank(),panel.border=element_rect(fill=NA, color="black"),panel.background=element_rect(fill="white"),axis.title=element_text(size=14),axis.text=element_text(size=12),legend.title = element_text(size=12))
beta.site1
str(somNEONMega1)
beta.site1<-somNEONMega1 %>%
ggplot(aes(x = socfrac_cumsum,
y = layer_bot )) +
geom_point(pch = 21, aes(color=land_cover)) +
geom_point(aes(x=rootfrac_cumsum, color=land_cover), pch=19)+
geom_line(aes(x=rootfrac_cumsum, color=land_cover), lty="solid")+
geom_line(aes(x=socfrac_cumsum, color=land_cover), lty="dashed")+
scale_color_manual(values=c("darkgreen","royalblue2","darkorchid"))+
scale_y_reverse() + # puts 0 at the top
xlab("Proportion accumulated")+
ylab("Soil depth (cm)")+
guides(color=guide_legend(title="Land cover", title.theme = element_text(size=12, angle=0), label.theme = element_text(size=12, angle=0)))+
facet_wrap(~ reorder(site_code, map.y)) +
theme_bw()+
theme(legend.position=c(0.9,0.07), panel.grid.major=element_blank(),panel.grid.minor=element_blank(),panel.border=element_rect(fill=NA, color="black"),panel.background=element_rect(fill="white"),axis.title=element_text(size=14),axis.text=element_text(size=12),legend.title = element_text(size=12))
beta.site1
ggsave(plot=beta.site1, file="beta.site1.jpeg",dpi=300)
#lhs <- tgc_site$rootfrac_cumsum
#rhs <- 1-beta_site_roots^tgc_site$layer_bot
#site_roots <- lm(lhs ~ rhs)
####Figure S1 ####
somNEONMega1 <-  somNEONMegaSoilRootSelSumDepth %>%
left_join(select(somNEON_mineral_wholeprofile, site_code, map), by="site_code") %>%
mutate(site_code = as.factor(site_code),
site_code = fct_reorder(site_code, map.y))
beta.site1<-somNEONMega1 %>%
ggplot(aes(x = socfrac_cumsum,
y = layer_bot )) +
geom_point(pch = 21, aes(color=land_cover)) +
geom_point(aes(x=rootfrac_cumsum, color=land_cover), pch=19)+
geom_line(aes(x=rootfrac_cumsum, color=land_cover), lty="solid")+
geom_line(aes(x=socfrac_cumsum, color=land_cover), lty="dashed")+
scale_color_manual(values=c("darkgreen","royalblue2","darkorchid"))+
scale_y_reverse() + # puts 0 at the top
xlab("Proportion accumulated")+
ylab("Soil depth (cm)")+
guides(color=guide_legend(title="Land cover", title.theme = element_text(size=12, angle=0), label.theme = element_text(size=12, angle=0)))+
facet_wrap(~ reorder(site_code, map.y)) +
theme_bw()+
theme(legend.position=c(0.9,0.07), panel.grid.major=element_blank(),panel.grid.minor=element_blank(),panel.border=element_rect(fill=NA, color="black"),panel.background=element_rect(fill="white"),axis.title=element_text(size=14),axis.text=element_text(size=12),legend.title = element_text(size=12))
beta.site1
beta.site1<-somNEONMega1 %>%
ggplot(aes(x = socfrac_cumsum,
y = layer_bot )) +
geom_point(pch = 21, aes(color=land_cover)) +
geom_point(aes(x=rootfrac_cumsum, color=land_cover), pch=19)+
geom_line(aes(x=rootfrac_cumsum, color=land_cover), lty="solid")+
geom_line(aes(x=socfrac_cumsum, color=land_cover), lty="dashed")+
scale_color_manual(values=c("darkorange3", "darkgreen","royalblue2","darkorchid"))+
scale_y_reverse() + # puts 0 at the top
xlab("Proportion accumulated")+
ylab("Soil depth (cm)")+
guides(color=guide_legend(title="Land cover", title.theme = element_text(size=12, angle=0), label.theme = element_text(size=12, angle=0)))+
facet_wrap(~ reorder(site_code, map.y)) +
theme_bw()+
theme(legend.position=c(0.9,0.07), panel.grid.major=element_blank(),panel.grid.minor=element_blank(),panel.border=element_rect(fill=NA, color="black"),panel.background=element_rect(fill="white"),axis.title=element_text(size=14),axis.text=element_text(size=12),legend.title = element_text(size=12))
beta.site1
ggsave(plot=beta.site1, file="beta.site1.jpeg",dpi=300)
beta.site1<-somNEONMega1 %>%
ggplot(aes(x = socfrac_cumsum,
y = layer_bot )) +
geom_point(pch = 21, aes(color=land_cover)) +
geom_point(aes(x=rootfrac_cumsum, color=land_cover), pch=19)+
geom_line(aes(x=rootfrac_cumsum, color=land_cover), lty="solid")+
geom_line(aes(x=socfrac_cumsum, color=land_cover), lty="dashed")+
scale_color_manual(values=c("darkorange3", "darkgreen","royalblue2","darkorchid"))+
scale_y_reverse() + # puts 0 at the top
xlab("Proportion accumulated")+
ylab("Soil depth (cm)")+
guides(color=guide_legend(title="Land cover", title.theme = element_text(size=12, angle=0), label.theme = element_text(size=12, angle=0), ncol=2))+
facet_wrap(~ reorder(site_code, map.y)) +
theme_bw()+
theme(legend.position=c(0.9,0.07), panel.grid.major=element_blank(),panel.grid.minor=element_blank(),panel.border=element_rect(fill=NA, color="black"),panel.background=element_rect(fill="white"),axis.title=element_text(size=14),axis.text=element_text(size=12),legend.title = element_text(size=12))
beta.site1
ggsave(plot=beta.site1, file="beta.site1.jpeg",dpi=300)
beta.site1<-somNEONMega1 %>%
ggplot(aes(x = socfrac_cumsum,
y = layer_bot )) +
geom_point(pch = 21, aes(color=land_cover)) +
geom_point(aes(x=rootfrac_cumsum, color=land_cover), pch=19)+
geom_line(aes(x=rootfrac_cumsum, color=land_cover), lty="solid")+
geom_line(aes(x=socfrac_cumsum, color=land_cover), lty="dashed")+
scale_color_manual(values=c("darkorange3", "darkgreen","royalblue2","darkorchid"))+
scale_y_reverse() + # puts 0 at the top
xlab("Proportion accumulated")+
ylab("Soil depth (cm)")+
guides(color=guide_legend(title="Land cover", title.theme = element_text(size=12, angle=0), label.theme = element_text(size=12, angle=0), ncol=2))+
facet_wrap(~ reorder(site_code, map.y)) +
theme_bw()+
theme(legend.position=c(0.8,0), panel.grid.major=element_blank(),panel.grid.minor=element_blank(),panel.border=element_rect(fill=NA, color="black"),panel.background=element_rect(fill="white"),axis.title=element_text(size=14),axis.text=element_text(size=12),legend.title = element_text(size=12))
ggsave(plot=beta.site1, file="beta.site1.jpeg",dpi=300)
beta.site1<-somNEONMega1 %>%
ggplot(aes(x = socfrac_cumsum,
y = layer_bot )) +
geom_point(pch = 21, aes(color=land_cover)) +
geom_point(aes(x=rootfrac_cumsum, color=land_cover), pch=19)+
geom_line(aes(x=rootfrac_cumsum, color=land_cover), lty="solid")+
geom_line(aes(x=socfrac_cumsum, color=land_cover), lty="dashed")+
scale_color_manual(values=c("darkorange3", "darkgreen","royalblue2","darkorchid"))+
scale_y_reverse() + # puts 0 at the top
xlab("Proportion accumulated")+
ylab("Soil depth (cm)")+
guides(color=guide_legend(title="Land cover", title.theme = element_text(size=12, angle=0), label.theme = element_text(size=12, angle=0), ncol=2))+
facet_wrap(~ reorder(site_code, map.y)) +
theme_bw()+
theme(legend.position="right", panel.grid.major=element_blank(),panel.grid.minor=element_blank(),panel.border=element_rect(fill=NA, color="black"),panel.background=element_rect(fill="white"),axis.title=element_text(size=14),axis.text=element_text(size=12),legend.title = element_text(size=12))
beta.site1
beta.site1<-somNEONMega1 %>%
ggplot(aes(x = socfrac_cumsum,
y = layer_bot )) +
geom_point(pch = 21, aes(color=land_cover)) +
geom_point(aes(x=rootfrac_cumsum, color=land_cover), pch=19)+
geom_line(aes(x=rootfrac_cumsum, color=land_cover), lty="solid")+
geom_line(aes(x=socfrac_cumsum, color=land_cover), lty="dashed")+
scale_color_manual(values=c("darkorange3", "darkgreen","royalblue2","darkorchid"))+
scale_y_reverse() + # puts 0 at the top
xlab("Proportion accumulated")+
ylab("Soil depth (cm)")+
guides(color=guide_legend(title="Land cover", title.theme = element_text(size=12, angle=0), label.theme = element_text(size=12, angle=0), ncol=1))+
facet_wrap(~ reorder(site_code, map.y)) +
theme_bw()+
theme(legend.position="right", panel.grid.major=element_blank(),panel.grid.minor=element_blank(),panel.border=element_rect(fill=NA, color="black"),panel.background=element_rect(fill="white"),axis.title=element_text(size=14),axis.text=element_text(size=12),legend.title = element_text(size=12))
beta.site1
ggsave(plot=beta.site1, file="beta.site1.jpeg",dpi=300)
beta.site1<-somNEONMega1 %>%
ggplot(aes(x = socfrac_cumsum,
y = layer_bot )) +
geom_point(pch = 21, aes(color=land_cover)) +
geom_point(aes(x=rootfrac_cumsum, color=land_cover), pch=19)+
geom_line(aes(x=rootfrac_cumsum, color=land_cover), lty="solid")+
geom_line(aes(x=socfrac_cumsum, color=land_cover), lty="dashed")+
scale_color_manual(values=c("darkorange3", "darkgreen","royalblue2","darkorchid"))+
scale_y_reverse() + # puts 0 at the top
xlab("Proportion accumulated")+
ylab("Soil depth (cm)")+
guides(color=guide_legend(title="Land cover", title.theme = element_text(size=12, angle=0), label.theme = element_text(size=12, angle=0), ncol=4))+
facet_wrap(~ reorder(site_code, map.y)) +
theme_bw()+
theme(legend.position=c(0.4,0), panel.grid.major=element_blank(),panel.grid.minor=element_blank(),panel.border=element_rect(fill=NA, color="black"),panel.background=element_rect(fill="white"),axis.title=element_text(size=14),axis.text=element_text(size=12),legend.title = element_text(size=12))
ggsave(plot=beta.site1, file="beta.site1.jpeg",dpi=300)
beta.site1<-somNEONMega1 %>%
ggplot(aes(x = socfrac_cumsum,
y = layer_bot )) +
geom_point(pch = 21, aes(color=land_cover)) +
geom_point(aes(x=rootfrac_cumsum, color=land_cover), pch=19)+
geom_line(aes(x=rootfrac_cumsum, color=land_cover), lty="solid")+
geom_line(aes(x=socfrac_cumsum, color=land_cover), lty="dashed")+
scale_color_manual(values=c("darkorange3", "darkgreen","royalblue2","darkorchid"))+
scale_y_reverse() + # puts 0 at the top
xlab("Proportion accumulated")+
ylab("Soil depth (cm)")+
guides(color=guide_legend(title="Land cover", title.theme = element_text(size=12, angle=0), label.theme = element_text(size=12, angle=0), ncol=4))+
facet_wrap(~ reorder(site_code, map.y)) +
theme_bw()+
theme(legend.position=c(0.5,0), panel.grid.major=element_blank(),panel.grid.minor=element_blank(),panel.border=element_rect(fill=NA, color="black"),panel.background=element_rect(fill="white"),axis.title=element_text(size=14),axis.text=element_text(size=12),legend.title = element_text(size=12))
ggsave(plot=beta.site1, file="beta.site1.jpeg",dpi=300)
beta.site1<-somNEONMega1 %>%
ggplot(aes(x = socfrac_cumsum,
y = layer_bot )) +
geom_point(pch = 21, aes(color=land_cover)) +
geom_point(aes(x=rootfrac_cumsum, color=land_cover), pch=19)+
geom_line(aes(x=rootfrac_cumsum, color=land_cover), lty="solid")+
geom_line(aes(x=socfrac_cumsum, color=land_cover), lty="dashed")+
scale_color_manual(values=c("darkorange3", "darkgreen","royalblue2","darkorchid"))+
scale_y_reverse() + # puts 0 at the top
xlab("Proportion accumulated")+
ylab("Soil depth (cm)")+
guides(color=guide_legend(title="Land cover", title.theme = element_text(size=12, angle=0), label.theme = element_text(size=12, angle=0), ncol=4))+
facet_wrap(~ reorder(site_code, map.y)) +
theme_bw()+
theme(legend.position=c(0.7,0), panel.grid.major=element_blank(),panel.grid.minor=element_blank(),panel.border=element_rect(fill=NA, color="black"),panel.background=element_rect(fill="white"),axis.title=element_text(size=14),axis.text=element_text(size=12),legend.title = element_text(size=12))
ggsave(plot=beta.site1, file="beta.site1.jpeg",dpi=300)
beta.site1<-somNEONMega1 %>%
ggplot(aes(x = socfrac_cumsum,
y = layer_bot )) +
geom_point(pch = 21, aes(color=land_cover)) +
geom_point(aes(x=rootfrac_cumsum, color=land_cover), pch=19)+
geom_line(aes(x=rootfrac_cumsum, color=land_cover), lty="solid")+
geom_line(aes(x=socfrac_cumsum, color=land_cover), lty="dashed")+
scale_color_manual(values=c("darkorange3", "darkgreen","royalblue2","darkorchid"))+
scale_y_reverse() + # puts 0 at the top
xlab("Proportion accumulated")+
ylab("Soil depth (cm)")+
guides(color=guide_legend(title="Land cover", title.theme = element_text(size=12, angle=0), label.theme = element_text(size=12, angle=0), ncol=4))+
facet_wrap(~ reorder(site_code, map.y)) +
theme_bw()+
theme(legend.position=c(0.6,0), panel.grid.major=element_blank(),panel.grid.minor=element_blank(),panel.border=element_rect(fill=NA, color="black"),panel.background=element_rect(fill="white"),axis.title=element_text(size=14),axis.text=element_text(size=12),legend.title = element_text(size=12))
ggsave(plot=beta.site1, file="beta.site1.jpeg",dpi=300)
beta.site1<-somNEONMega1 %>%
ggplot(aes(x = socfrac_cumsum,
y = layer_bot )) +
geom_point(pch = 21, aes(color=land_cover)) +
geom_point(aes(x=rootfrac_cumsum, color=land_cover), pch=19)+
geom_line(aes(x=rootfrac_cumsum, color=land_cover), lty="solid")+
geom_line(aes(x=socfrac_cumsum, color=land_cover), lty="dashed")+
scale_color_manual(values=c("darkorange3", "darkgreen","royalblue2","darkorchid"))+
scale_y_reverse() + # puts 0 at the top
xlab("Proportion accumulated")+
ylab("Soil depth (cm)")+
guides(color=guide_legend(title="Land cover", title.theme = element_text(size=12, angle=0), label.theme = element_text(size=12, angle=0), ncol=4))+
facet_wrap(~ reorder(site_code, map.y)) +
theme_bw()+
theme(legend.position=c(0.65,0.1), panel.grid.major=element_blank(),panel.grid.minor=element_blank(),panel.border=element_rect(fill=NA, color="black"),panel.background=element_rect(fill="white"),axis.title=element_text(size=14),axis.text=element_text(size=12),legend.title = element_text(size=12))
ggsave(plot=beta.site1, file="beta.site1.jpeg",dpi=300)
beta.site1<-somNEONMega1 %>%
ggplot(aes(x = socfrac_cumsum,
y = layer_bot )) +
geom_point(pch = 21, aes(color=land_cover)) +
geom_point(aes(x=rootfrac_cumsum, color=land_cover), pch=19)+
geom_line(aes(x=rootfrac_cumsum, color=land_cover), lty="solid")+
geom_line(aes(x=socfrac_cumsum, color=land_cover), lty="dashed")+
scale_color_manual(values=c("darkorange3", "darkgreen","royalblue2","darkorchid"))+
scale_y_reverse() + # puts 0 at the top
xlab("Proportion accumulated")+
ylab("Soil depth (cm)")+
guides(color=guide_legend(title="Land cover", title.theme = element_text(size=12, angle=0), label.theme = element_text(size=12, angle=0), ncol=4))+
facet_wrap(~ reorder(site_code, map.y)) +
theme_bw()+
theme(legend.position=c(0.65,0.07), panel.grid.major=element_blank(),panel.grid.minor=element_blank(),panel.border=element_rect(fill=NA, color="black"),panel.background=element_rect(fill="white"),axis.title=element_text(size=14),axis.text=element_text(size=12),legend.title = element_text(size=12))
ggsave(plot=beta.site1, file="beta.site1.jpeg",dpi=300)
beta.site1<-somNEONMega1 %>%
ggplot(aes(x = socfrac_cumsum,
y = layer_bot )) +
geom_point(pch = 21, aes(color=land_cover)) +
geom_point(aes(x=rootfrac_cumsum, color=land_cover), pch=19)+
geom_line(aes(x=rootfrac_cumsum, color=land_cover), lty="solid")+
geom_line(aes(x=socfrac_cumsum, color=land_cover), lty="dashed")+
scale_color_manual(values=c("darkorange3", "darkgreen","royalblue2","darkorchid"))+
scale_y_reverse() + # puts 0 at the top
xlab("Proportion accumulated")+
ylab("Soil depth (cm)")+
guides(color=guide_legend(title="Land cover", title.theme = element_text(size=12, angle=0), label.theme = element_text(size=12, angle=0), ncol=4))+
facet_wrap(~ reorder(site_code, map.y)) +
theme_bw()+
theme(legend.position=c(0.65,0.05), panel.grid.major=element_blank(),panel.grid.minor=element_blank(),panel.border=element_rect(fill=NA, color="black"),panel.background=element_rect(fill="white"),axis.title=element_text(size=14),axis.text=element_text(size=12),legend.title = element_text(size=12))
beta.site1
ggsave(plot=beta.site1, file="beta.site1.jpeg",dpi=300)
View(somNEONMega1)
View(somNEON_mineral_wholeprofile)
somNEONMegaSoilRootSelSumDepth_noshcult<-somNEONMegaSoilRootSelSumDepth %>% filter(land_cover %in% c("forest","rangeland/grassland"))
segments<-data.frame(x=c(0.1,0.1,0,0,0),xend=c(0.2,0.2,0,0,0),y=c(175,200,0,0,0),yend=c(175,200,0,0,0),land_cover=factor("forest",levels=c("forest","rangeland/grassland")))
beta.summ<-ggplot(somNEONMegaSoilRootSelSumDepth_noshcult,
aes(x = socfrac_cumsum,
y = layer_bot )) +
geom_point(color="black", pch = 21, size=1) +
geom_point(aes(x=rootfrac_cumsum),color="black", pch=19, size=1)+
#geom_smooth(aes(x=socfrac_cumsum, group=site_code), color="gray",lty="dashed", span=1.5)+
geom_smooth(data=subset(somNEONMegaSoilRootSelSumDepth_noshcult, land_cover=="rangeland/grassland"), aes(x=rootfrac_cumsum), lty="solid", span=1.5)+
geom_smooth(data=subset(somNEONMegaSoilRootSelSumDepth_noshcult, land_cover=="rangeland/grassland"), aes(x=socfrac_cumsum), lty="dashed", span=1.5)+
#scale_color_manual(values=c("darkgreen","royalblue2"))+
scale_y_reverse(limits=c(200,0)) + # puts 0 at the top
xlab("Proportion accumulated")+
ylab("Soil depth (cm)")+
annotate("segment",lty="solid", x=0.1,xend=0.2,y=175,yend=175)+
annotate("segment",lty="dashed", x=0.1,xend=0.2,y=200,yend=200)+
annotate("text", label="SOC", x=0.25,y=200,hjust=0)+
annotate("text",label="Roots", x=0.25, y=175,hjust=0)+
annotate("point", x=0.03,y=200, pch=21)+
annotate("point", x=0.03,y=175, pch=19)+
geom_text(data=beta.stats, aes(x=x,y=y.soc,label=mean.soc), hjust=0)+
geom_text(data=beta.stats, aes(x=x,y=y.roots,label=mean.roots), hjust=0)+
guides(color=guide_legend(title="Land cover", ncol=1,title.theme = element_text(size=12, angle=0), label.theme = element_text(size=12, angle=0)))+
facet_wrap(~ land_cover) +
theme_bw()+
theme(legend.position="none", panel.grid.major=element_blank(),panel.grid.minor=element_blank(),panel.border=element_rect(fill=NA, color="black"),panel.background=element_rect(fill="white"),axis.title=element_text(size=14),axis.text=element_text(size=12),legend.title = element_text(size=12),strip.text = element_text(size=16))
#quick summary stats
beta.stats<-beta.all %>% filter(land_cover %in% c("forest","rangeland/grassland")) %>%
group_by(land_cover) %>%
summarize(mean.soc = mean(beta_soc, na.rm=T),
stdev.soc = sd(beta_soc,na.rm=T),
mean.roots = mean(beta_roots,na.rm=T),
stdev.roots = sd(beta_roots,na.rm=T)) %>%
mutate(mean.soc = round(mean.soc, 3),
stdev.soc = round(stdev.soc,3),
mean.roots = round(mean.roots,3),
stdev.roots = round(stdev.roots,3))
beta.stats$x<-c(0.45,0.45)
beta.stats$y.roots<-c(175,175)
beta.stats$y.soc<-c(200,200)
beta.summ<-ggplot(somNEONMegaSoilRootSelSumDepth_noshcult,
aes(x = socfrac_cumsum,
y = layer_bot )) +
geom_point(color="black", pch = 21, size=1) +
geom_point(aes(x=rootfrac_cumsum),color="black", pch=19, size=1)+
#geom_smooth(aes(x=socfrac_cumsum, group=site_code), color="gray",lty="dashed", span=1.5)+
geom_smooth(data=subset(somNEONMegaSoilRootSelSumDepth_noshcult, land_cover=="rangeland/grassland"), aes(x=rootfrac_cumsum), lty="solid", span=1.5)+
geom_smooth(data=subset(somNEONMegaSoilRootSelSumDepth_noshcult, land_cover=="rangeland/grassland"), aes(x=socfrac_cumsum), lty="dashed", span=1.5)+
#scale_color_manual(values=c("darkgreen","royalblue2"))+
scale_y_reverse(limits=c(200,0)) + # puts 0 at the top
xlab("Proportion accumulated")+
ylab("Soil depth (cm)")+
annotate("segment",lty="solid", x=0.1,xend=0.2,y=175,yend=175)+
annotate("segment",lty="dashed", x=0.1,xend=0.2,y=200,yend=200)+
annotate("text", label="SOC", x=0.25,y=200,hjust=0)+
annotate("text",label="Roots", x=0.25, y=175,hjust=0)+
annotate("point", x=0.03,y=200, pch=21)+
annotate("point", x=0.03,y=175, pch=19)+
geom_text(data=beta.stats, aes(x=x,y=y.soc,label=mean.soc), hjust=0)+
geom_text(data=beta.stats, aes(x=x,y=y.roots,label=mean.roots), hjust=0)+
guides(color=guide_legend(title="Land cover", ncol=1,title.theme = element_text(size=12, angle=0), label.theme = element_text(size=12, angle=0)))+
facet_wrap(~ land_cover) +
theme_bw()+
theme(legend.position="none", panel.grid.major=element_blank(),panel.grid.minor=element_blank(),panel.border=element_rect(fill=NA, color="black"),panel.background=element_rect(fill="white"),axis.title=element_text(size=14),axis.text=element_text(size=12),legend.title = element_text(size=12),strip.text = element_text(size=16))
beta.summ
